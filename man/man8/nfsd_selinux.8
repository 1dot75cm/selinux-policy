.TH  "nfsd_selinux"  "8"  "16 Feb 2012" "dwalsh@redhat.com" "nfsd Selinux Policy documentation"
.SH "NAME"
nfsd_selinux \- Security Enhanced Linux Policy for the nfsd processes
.SH "DESCRIPTION"

Security-Enhanced Linux secures the nfsd processes via flexible mandatory access
control.  
.SH FILE_CONTEXTS
SELinux requires files to have an extended attribute to define the file type. 
Policy governs the access confined processes have to these files. 
SELinux nfsd policy is very flexible allowing users to setup their nfsd processes in as secure a method as possible.
.PP 
The following file types are defined for nfsd:


.EX
.B nfsd_exec_t 
.EE

- Set files with the nfsd_exec_t context, if you want to a executable to transition to the nfsd_t domain.


.EX
.B nfsd_initrc_exec_t 
.EE

- Set files with the nfsd_initrc_exec_t context, if you want to a executable to transition to the nfsd_initrc_t domain.


.EX
.B nfsd_ro_t 
.EE

- Set files with the nfsd_ro_t context, if you want to treat the files as nfsd read/only content.


.EX
.B nfsd_rw_t 
.EE

- Set files with the nfsd_rw_t context, if you want to treat the files as nfsd read/write content.


.EX
.B nfsd_unit_file_t 
.EE

- Set files with the nfsd_unit_file_t context, if you want to treat the files as nfsd unit content.

Note: File context can be temporarily modified with the chcon command.  If you want to permanantly change the file context you need to use the 
.B semanage fcontext 
command.  This will modify the SELinux labeling database.  You will need to use
.B restorecon
to apply the labels.

.SH BOOLEANS
SELinux policy is customizable based on least access required.  nfsd policy is extremely flexible and has several booleans that allow you to manipulate the policy and run nfsd with the tightest access possible.


.PP
If you want to allow xen to manage nfs files, you must turn on the xen_use_nfs boolean.

.EX
.B setsebool -P xen_use_nfs 1
.EE

.PP
If you want to allow confined virtual guests to manage nfs files, you must turn on the virt_use_nfs boolean.

.EX
.B setsebool -P virt_use_nfs 1
.EE

.PP
If you want to allow ftp servers to use nfs used for public file transfer services., you must turn on the allow_ftpd_use_nfs boolean.

.EX
.B setsebool -P allow_ftpd_use_nfs 1
.EE

.PP
If you want to allow Git daemon system to access nfs file systems., you must turn on the git_system_use_nfs boolean.

.EX
.B setsebool -P git_system_use_nfs 1
.EE

.PP
If you want to allow qemu to use nfs file systems, you must turn on the qemu_use_nfs boolean.

.EX
.B setsebool -P qemu_use_nfs 1
.EE

.PP
If you want to allow nfs servers to modify public files used for public file transfer services.  Files/Directories must be labeled public_content_rw_t., you must turn on the allow_nfsd_anon_write boolean.

.EX
.B setsebool -P allow_nfsd_anon_write 1
.EE

.PP
If you want to allow Cobbler to access nfs file systems., you must turn on the cobbler_use_nfs boolean.

.EX
.B setsebool -P cobbler_use_nfs 1
.EE

.PP
If you want to allow httpd to access nfs file systems, you must turn on the httpd_use_nfs boolean.

.EX
.B setsebool -P httpd_use_nfs 1
.EE

.PP
If you want to allow sge to access nfs file systems., you must turn on the sge_use_nfs boolean.

.EX
.B setsebool -P sge_use_nfs 1
.EE

.PP
If you want to allow any files/directories to be exported read/write via NFS., you must turn on the nfs_export_all_rw boolean.

.EX
.B setsebool -P nfs_export_all_rw 1
.EE

.PP
If you want to allow confined virtual guests to manage nfs files, you must turn on the sanlock_use_nfs boolean.

.EX
.B setsebool -P sanlock_use_nfs 1
.EE

.PP
If you want to allow samba to export NFS volumes., you must turn on the samba_share_nfs boolean.

.EX
.B setsebool -P samba_share_nfs 1
.EE

.PP
If you want to determine whether Polipo can access nfs file systems., you must turn on the polipo_use_nfs boolean.

.EX
.B setsebool -P polipo_use_nfs 1
.EE

.PP
If you want to support NFS home directories, you must turn on the use_nfs_home_dirs boolean.

.EX
.B setsebool -P use_nfs_home_dirs 1
.EE

.PP
If you want to allow any files/directories to be exported read/only via NFS., you must turn on the nfs_export_all_ro boolean.

.EX
.B setsebool -P nfs_export_all_ro 1
.EE

.SH "COMMANDS"

.B semanage boolean
can also be used to manipulate the booleans

.PP
.B system-config-selinux 
is a GUI tool available to customize SELinux policy settings.

.SH AUTHOR	
This manual page was written by Dan Walsh <dwalsh@redhat.com>.

.SH "SEE ALSO"
selinux(8), nfsd(8), semanage(8), restorecon(8), chcon(1), setsebool(8)